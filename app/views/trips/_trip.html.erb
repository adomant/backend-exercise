<% cache trip do %>
<% if days(trip).present? %>
  <div class="flex mb-4 bg-white rounded shadow">
    <div class="w-3/5 p-4 flex flex-col border-r border-dotted">
      <div class="flex mb-3">
        <div class="w-1/2 pr-1">
          <span class="text-2xl mr-1">
            <%= trip.start_time.strftime('%H:%M') %>
          </span>

          <span class="align-baseline text-sm bg-grey-lighter text-grey-darker py-px rounded-lg px-2">
            <%= l trip.start_time.to_date, format: :short %>
          </span>

          <p class="mt-1">
            <%= trip.start_city_name %>
          </p>
          <p class="mt-1 text-sm font-light">
            <%= trip.station_begin_name %>
          </p>
        </div>
        <div class="w-1/2 pl-1">
          <span class="text-2xl mr-1">
            <%= trip.end_time.strftime('%H:%M') %>
          </span>

          <span class="align-baseline text-sm bg-grey-lighter text-grey-darker py-px rounded-lg px-2">
            <%= l trip.end_time.to_date, format: :short %>
          </span>

          <p class="mt-1">
            <%= trip.end_city_name %>
          </p>
          <p class="mt-1 text-sm font-light">
            <%= trip.station_end_name %>
          </p>
        </div>
      </div>
      <p class="font-light text-sm mb-4">
        <span class="text-grey-dark">Carrier:</span> <%= trip.carrier_name %>
      </p>
      <div class="text-xs mb-1">
          <span class = "mr-1 py-1 px-2 rounded-full bg-red-light text-white">
            <%= days(trip) %>
          </span>
      </div>
    </div>
    <div class="w-2/5 p-4 flex items-center justify-center">
      <%= link_to trip_path(trip),
                  class:"text-xl py-2 px-4 bg-red-light text-white rounded-full no-underline hover:bg-red vdw" do %>
        <%= trip.total_cost %> <%= trip.currency %>
      <% end %>
    </div>

    <div class= "mt-1 align-top no-underline">
      <%= link_to '<i class="far fa-edit"></i>'.html_safe, edit_trip_path(trip),
                  class: 'text-black hover:bg-transparent vdb' %>
      <%= link_to '<i class="fas fa-times"></i>'.html_safe, trip, method: :delete, data: { confirm: 'Are you sure?' },
                  class: 'text-black hover:bg-transparent vdb' %>
    </div>

  </div>
<% end %>
<% end %>
